window;import{jsxs as e,jsx as t,Fragment as r}from"react/jsx-runtime";import*as n from"react";import{useRpcSession as a,EnvPosContext as o,useAsyncPersistent as i,mapRpcError as s,importWidgetModule as c}from"@leanprover/infoview";async function l(a,o,i){if("text"in i)return t(r,{children:i.text});if("element"in i){const[e,r,s]=i.element,c={};for(const[e,t]of r)c[e]=t;const m=await Promise.all(s.map((async e=>await l(a,o,e))));return"hr"===e?t("hr",{}):0===m.length?n.createElement(e,c):n.createElement(e,c,m)}if("component"in i){const[e,t,r,s]=i.component,m=await Promise.all(s.map((async e=>await l(a,o,e)))),f={...r,pos:o},p=await c(a,o,e);if(!(t in p))throw new Error(`Module '${e}' does not export '${t}'`);return 0===m.length?n.createElement(p[t],f):n.createElement(p[t],f,m)}return e("span",{className:"red",children:["Unknown HTML variant: ",JSON.stringify(i)]})}function m({html:c}){const m=a(),f=n.useContext(o),p=i((()=>l(m,f,c)),[m,f,c]);return"resolved"===p.state?p.value:"rejected"===p.state?e("span",{className:"red",children:["Error rendering HTML: ",s(p.error).message]}):t(r,{})}export{m as default};